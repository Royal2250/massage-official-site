const translations = {
  zh: {
    'brand.name': 'Zen Spa 按摩会馆',
    'nav.home': '首页',
    'nav.about': '门店介绍',
    'nav.services': '服务项目',
    'nav.gallery': '环境展示',
    'nav.faq': '常见问题',
    'nav.contact': '联系我们',
    'nav.reserve': '立即预约',

    'hero.kicker': '身心放松 · 重获平衡',
    'hero.title': '城市中的静谧角落，专属您的按摩会馆',
    'hero.subtitle':
      '专业理疗师团队，精心打造每一次放松体验。支持中/英/日服务，让来访顾客都能感到安心与舒适。',
    'hero.ctaPrimary': '查看服务项目',
    'hero.ctaSecondary': '电话 / 微信预约',
    'hero.tag1': '资深持证理疗师',
    'hero.tag2': '独立包间 · 私密安静',
    'hero.tag3': '线上预约 · 准时接待',
    'hero.cardTitle': '今日主推 · 芳香精油全身放松',
    'hero.cardDuration': '60 分钟',
    'hero.cardPrice': '¥298 起',
    'hero.cardDesc': '选用高品质精油，舒缓肩颈与背部压力，帮助深度放松与睡眠改善。',

    'about.title': '关于 Zen Spa 按摩会馆',
    'about.lead': '我们相信，真正的放松不仅是身体上的舒缓，更是心灵的沉淀。',
    'about.p1':
      'Zen Spa 位于市中心安静街区，拥有独立包间与温暖灯光，让您远离城市喧嚣。在这里，您可以安心闭上双眼，把疲惫交给我们。',
    'about.p2':
      '全体理疗师均持专业证书，定期参与进修培训，根据不同顾客的体质与需求，定制合适的按摩方案。',
    'about.feature1': '中/英/日多语言服务接待',
    'about.feature2': '严格消毒流程 · 更安心',
    'about.feature3': '可电话 / 微信 / 现场预约',
    'about.infoTitle': '营业信息',
    'about.hoursLabel': '营业时间',
    'about.hoursValue': '每日 11:00 – 23:00（最晚接待 22:00）',
    'about.addressLabel': '门店地址',
    'about.addressValue': 'XX 市 XX 区 XX 路 88 号 3F',
    'about.phoneLabel': '预约电话',
    'about.wechatLabel': '微信客服',

    'services.title': '服务项目',
    'services.lead': '从基础放松到深层理疗，多种项目可根据您当天状态灵活组合搭配。',
    'services.filterAll': '全部',
    'services.filterRelax': '放松舒缓',
    'services.filterTherapy': '深层理疗',
    'services.filterFoot': '足部护理',
    'services.note': '* 价格以门店当日公示为准，节假日及特殊活动期间可能略有调整。',

    'gallery.title': '环境展示',
    'gallery.lead': '柔和灯光、自然香氛与舒适床品，只为让您在每一次呼吸间都能安心放松。',
    'gallery.caption1': '前台接待区',
    'gallery.caption2': '双人理疗包间',
    'gallery.caption3': '足浴放松区',
    'gallery.caption4': '香氛与精油展示区',

    'faq.title': '常见问题',
    'faq.lead': '初次来访或跨语言沟通没问题，我们整理了大家最关心的问题。',

    'contact.title': '联系与预约',
    'contact.lead': '为了保证服务体验，我们建议您提前预约，可选择电话、微信或在线表单提交需求。',
    'contact.phoneLabel': '预约电话',
    'contact.wechatLabel': '微信客服',
    'contact.emailLabel': '电子邮箱',
    'contact.mapHint': '可在此嵌入高德 / Google 地图',
    'contact.formTitle': '在线预约意向',
    'contact.formNameLabel': '您的称呼',
    'contact.formPhoneLabel': '联系方式',
    'contact.formServiceLabel': '意向项目',
    'contact.formServicePlaceholder': '请选择服务项目',
    'contact.formDateLabel': '意向日期',
    'contact.formTimeLabel': '意向时间',
    'contact.formNotesLabel': '备注',
    'contact.formSubmit': '提交预约意向（示例，无实际提交）',
    'contact.formHint': '表单仅为演示使用，实际可接入邮件、短信或第三方预约系统。',

    'footer.desc': '用一小时的时间，为您的每一天注入新的能量。',
    'footer.linksTitle': '快速链接',
    'footer.linkServices': '服务项目',
    'footer.linkFaq': '常见问题',
    'footer.linkContact': '预约与交通',
    'footer.policyTitle': '其他信息',
    'footer.policy1': '隐私与个人信息保护',
    'footer.policy2': '预约与取消说明',
    'footer.policy3': '仅提供正规理疗按摩服务',
    'footer.rights': '本页面为演示站点，可根据实际门店信息进行替换。',
  },
  en: {
    'brand.name': 'Zen Spa Massage',
    'nav.home': 'Home',
    'nav.about': 'About',
    'nav.services': 'Services',
    'nav.gallery': 'Gallery',
    'nav.faq': 'FAQ',
    'nav.contact': 'Contact',
    'nav.reserve': 'Book Now',

    'hero.kicker': 'Relax · Restore · Rebalance',
    'hero.title': 'A calm oasis in the city, designed just for you',
    'hero.subtitle':
      'Certified therapists delivering carefully tailored treatments. Chinese, English and Japanese supported for a truly worry‑free experience.',
    'hero.ctaPrimary': 'View services',
    'hero.ctaSecondary': 'Call / WeChat booking',
    'hero.tag1': 'Certified therapists',
    'hero.tag2': 'Private treatment rooms',
    'hero.tag3': 'On‑time reservations',
    'hero.cardTitle': 'Today’s pick · Aromatherapy full body massage',
    'hero.cardDuration': '60 minutes',
    'hero.cardPrice': 'From ¥298',
    'hero.cardDesc':
      'Premium essential oils and expert techniques to ease tension in your neck, shoulders and back, and support deeper sleep.',

    'about.title': 'About Zen Spa',
    'about.lead':
      'True relaxation is more than releasing tension in your body – it is also about finding stillness in your mind.',
    'about.p1':
      'Located in a quiet corner of the city center, Zen Spa offers private rooms and warm lighting to help you escape the urban rush.',
    'about.p2':
      'All therapists are fully certified and regularly trained, and your session is tailored to your body condition and needs.',
    'about.feature1': 'Service in Chinese / English / Japanese',
    'about.feature2': 'Strict hygiene and disinfection procedures',
    'about.feature3': 'Booking via phone, WeChat or in person',
    'about.infoTitle': 'Business info',
    'about.hoursLabel': 'Opening hours',
    'about.hoursValue': 'Daily 11:00 – 23:00 (last booking 22:00)',
    'about.addressLabel': 'Address',
    'about.addressValue': '3F, No.88, XX Road, XX District, XX City',
    'about.phoneLabel': 'Phone',
    'about.wechatLabel': 'WeChat',

    'services.title': 'Our services',
    'services.lead':
      'From gentle relaxation to deeper therapeutic work, mix and match depending on how your body feels today.',
    'services.filterAll': 'All',
    'services.filterRelax': 'Relaxation',
    'services.filterTherapy': 'Therapeutic',
    'services.filterFoot': 'Foot care',
    'services.note': '* Actual prices may vary during holidays or special promotions.',

    'gallery.title': 'Space & ambience',
    'gallery.lead':
      'Soft lighting, natural scents and comfortable linens – everything is designed for you to truly unwind.',
    'gallery.caption1': 'Reception area',
    'gallery.caption2': 'Couple’s treatment room',
    'gallery.caption3': 'Foot bath zone',
    'gallery.caption4': 'Aromatherapy display',

    'faq.title': 'Frequently asked questions',
    'faq.lead':
      'First time visiting or worried about language? These answers will help you prepare for your session.',

    'contact.title': 'Contact & reservations',
    'contact.lead':
      'To ensure a smooth experience, we recommend reserving in advance via phone, WeChat or this form.',
    'contact.phoneLabel': 'Phone',
    'contact.wechatLabel': 'WeChat',
    'contact.emailLabel': 'Email',
    'contact.mapHint': 'Map from Gaode / Google Maps can be embedded here.',
    'contact.formTitle': 'Reservation request',
    'contact.formNameLabel': 'Your name',
    'contact.formPhoneLabel': 'Contact',
    'contact.formServiceLabel': 'Preferred service',
    'contact.formServicePlaceholder': 'Select a service',
    'contact.formDateLabel': 'Preferred date',
    'contact.formTimeLabel': 'Preferred time',
    'contact.formNotesLabel': 'Notes',
    'contact.formSubmit': 'Submit request (demo only, no real booking)',
    'contact.formHint':
      'Form is for demo purposes only. In production you can connect email, SMS or a booking system.',

    'footer.desc': 'Take one hour to recharge your body and mind for the days ahead.',
    'footer.linksTitle': 'Quick links',
    'footer.linkServices': 'Services',
    'footer.linkFaq': 'FAQ',
    'footer.linkContact': 'Access & booking',
    'footer.policyTitle': 'Information',
    'footer.policy1': 'Privacy & data policy',
    'footer.policy2': 'Reservation & cancellation',
    'footer.policy3': 'Professional therapeutic services only',
    'footer.rights': 'Demo site. Please replace with your real shop information.',
  },
  ja: {
    'brand.name': 'Zen Spa マッサージ',
    'nav.home': 'ホーム',
    'nav.about': 'サロン紹介',
    'nav.services': 'メニュー',
    'nav.gallery': '店内写真',
    'nav.faq': 'よくある質問',
    'nav.contact': 'アクセス・予約',
    'nav.reserve': '予約する',

    'hero.kicker': 'こころとからだに、ひと休みを',
    'hero.title': '都心の隠れ家スパで、静かなひとときを',
    'hero.subtitle':
      '経験豊富なセラピストが、お客様一人ひとりに合わせたトリートメントをご提供。日本語・中国語・英語に対応しております。',
    'hero.ctaPrimary': 'メニューを見る',
    'hero.ctaSecondary': '電話 / WeChat 予約',
    'hero.tag1': '有資格セラピスト',
    'hero.tag2': '完全個室 · 落ち着いた空間',
    'hero.tag3': '事前予約制でスムーズにご案内',
    'hero.cardTitle': '本日のおすすめ · アロマ全身トリートメント',
    'hero.cardDuration': '60 分',
    'hero.cardPrice': '¥298〜',
    'hero.cardDesc':
      '上質なアロマオイルを使用し、首・肩・背中のコリを丁寧にほぐし、深いリラックスへと導きます。',

    'about.title': 'Zen Spa について',
    'about.lead': 'ただ疲れをとるだけでなく、心まで軽くなる時間を。',
    'about.p1':
      'Zen Spa は、街の中心にありながら静かなエリアに位置するプライベートスパです。やわらかな照明と香りに包まれ、日常から少し離れておくつろぎください。',
    'about.p2':
      'すべてのセラピストが専門資格を保有し、定期的に技術研修を行っています。お客様の体調やお悩みに合わせて、最適な施術をご提案いたします。',
    'about.feature1': '日本語 / 中国語 / 英語対応',
    'about.feature2': '徹底した衛生管理と消毒',
    'about.feature3': '電話・WeChat・ご来店での予約可',
    'about.infoTitle': '営業情報',
    'about.hoursLabel': '営業時間',
    'about.hoursValue': '毎日 11:00 – 23:00（最終受付 22:00）',
    'about.addressLabel': '住所',
    'about.addressValue': 'XX 市 XX 区 XX 路 88 号 3F',
    'about.phoneLabel': '電話番号',
    'about.wechatLabel': 'WeChat',

    'services.title': 'メニュー',
    'services.lead': 'その日のコンディションに合わせて、リラックスからボディケアまでお選びいただけます。',
    'services.filterAll': 'すべて',
    'services.filterRelax': 'リラックス',
    'services.filterTherapy': 'ボディケア',
    'services.filterFoot': 'フット',
    'services.note': '※ 料金は当日の店頭表示をご確認ください。繁忙期・連休中は変動する場合がございます。',

    'gallery.title': '店内の雰囲気',
    'gallery.lead': 'やさしい照明と落ち着いたインテリアで、ゆったりとお過ごしいただけます。',
    'gallery.caption1': 'レセプション',
    'gallery.caption2': 'ペアルーム',
    'gallery.caption3': 'フットケアエリア',
    'gallery.caption4': 'アロマオイルとハーブ',

    'faq.title': 'よくある質問',
    'faq.lead': '初めての方や日本語に不安がある方も、どうぞご安心ください。',

    'contact.title': 'アクセス・ご予約',
    'contact.lead':
      'スムーズなご案内のため、事前のご予約をおすすめしております。電話・WeChat・フォームからお問い合わせいただけます。',
    'contact.phoneLabel': '電話番号',
    'contact.wechatLabel': 'WeChat',
    'contact.emailLabel': 'メール',
    'contact.mapHint': 'こちらに地図（高徳 / Google マップ）を埋め込むことができます。',
    'contact.formTitle': 'ご予約リクエスト',
    'contact.formNameLabel': 'お名前',
    'contact.formPhoneLabel': 'ご連絡先',
    'contact.formServiceLabel': 'ご希望メニュー',
    'contact.formServicePlaceholder': 'メニューを選択してください',
    'contact.formDateLabel': 'ご希望日',
    'contact.formTimeLabel': 'ご希望時間',
    'contact.formNotesLabel': 'ご要望など',
    'contact.formSubmit': '送信（デモ用・実際の予約は行われません）',
    'contact.formHint': 'デモサイトのため、送信内容は保存されません。本番環境では予約システム等と連携可能です。',

    'footer.desc': 'からだと心を整える、ひとときのリセットタイムを。',
    'footer.linksTitle': 'メニュー',
    'footer.linkServices': 'サービス一覧',
    'footer.linkFaq': 'よくある質問',
    'footer.linkContact': 'アクセス・予約',
    'footer.policyTitle': 'インフォメーション',
    'footer.policy1': 'プライバシーポリシー',
    'footer.policy2': '予約・キャンセル規定',
    'footer.policy3': '健全なリラクゼーションサロンです',
    'footer.rights': '本ページはデモ用です。実際の店舗情報に合わせてご変更ください。',
  },
};

const serviceData = {
  zh: [
    {
      id: 'aroma-relax',
      category: 'relax',
      name: '芳香精油全身放松',
      duration: '60 分钟',
      price: '¥298',
      shortDesc: '使用高品质精油，从头到脚全身放松，适合日常缓解疲劳。',
      tags: ['放松舒缓', '全身', '香氛'],
      details: {
        meta: '推荐首次体验 · 适合长期伏案、轻度疲劳人群',
        desc: '结合舒缓推拿与芳香疗法，重点放松肩颈、背部与腰部。帮助改善睡眠质量与心情状态。',
        highlights: [
          '门店热销项目，适合大多数顾客',
          '使用轻中力度按摩，舒适放松不易酸痛',
          '可根据个人喜好选择不同香型的精油',
        ],
        tip: '如对特定精油成分过敏，请在开局前主动告知理疗师。',
      },
    },
    {
      id: 'deep-tissue',
      category: 'therapy',
      name: '深层肌肉理疗按摩',
      duration: '75 分钟',
      price: '¥368',
      shortDesc: '针对长时间久坐、肩颈僵硬、腰背酸痛的深层理疗项目。',
      tags: ['深层理疗', '肩颈腰背', '力度偏深'],
      details: {
        meta: '适合中度以上肌肉紧张人群 · 可定制重点部位',
        desc: '通过按压、点揉和拉伸等手法，深层放松紧张肌群，帮助改善血液循环与姿势问题。',
        highlights: [
          '可重点加强肩颈 / 腰背 / 下肢某个区域',
          '理疗师会与您沟通力度与痛感，随时调整',
          '建议间隔一周以上再次进行深层理疗',
        ],
        tip: '如有骨科或心血管疾病史，请在预约时事先说明，便于评估是否适合该项目。',
      },
    },
    {
      id: 'foot-spa',
      category: 'foot',
      name: '草本足浴 · 足底放松',
      duration: '50 分钟',
      price: '¥218',
      shortDesc: '热泡草本足浴搭配足底按摩，缓解腿脚浮肿与疲劳。',
      tags: ['足部护理', '草本泡脚', '轻度理疗'],
      details: {
        meta: '适合久站、久走或常穿高跟鞋人群',
        desc: '先以温热草本足浴促进血液循环，再结合足底反射区按摩，帮助改善腿部沉重感与睡眠质量。',
        highlights: [
          '搭配肩颈简单放松效果更佳',
          '草本配方可根据季节做适当调整',
          '项目结束后建议适当补水',
        ],
        tip: '糖尿病或足部皮肤有破损的顾客请提前告知，理疗师会评估是否适合足浴项目。',
      },
    },
    {
      id: 'head-spa',
      category: 'relax',
      name: '头部舒压 · 眼部放松',
      duration: '40 分钟',
      price: '¥188',
      shortDesc: '适合长时间使用电脑、手机，容易头胀眼疲劳的人群。',
      tags: ['头部放松', '眼部护理', '办公族推荐'],
      details: {
        meta: '可与其他全身项目搭配，提升整体放松感',
        desc: '重点放松头皮、太阳穴与眉心周围肌肉，搭配温热眼罩护理，缓解用眼过度带来的不适。',
        highlights: [
          '过程轻柔，无需卸妆即可体验基础版',
          '可选择是否使用少量精油进行头部护理',
          '适合午休或下班后短时间放松',
        ],
        tip: '如近期有偏头痛或眼部手术史，请务必先与理疗师沟通，不适合时我们会建议更温和项目。',
      },
    },
  ],
  en: [
    {
      id: 'aroma-relax',
      category: 'relax',
      name: 'Aromatherapy full body massage',
      duration: '60 min',
      price: '¥298',
      shortDesc: 'Gentle head‑to‑toe massage with premium essential oils for everyday stress relief.',
      tags: ['Relaxation', 'Full body', 'Aroma'],
      details: {
        meta: 'Perfect for first‑time guests and light to moderate tension.',
        desc: 'Combines soothing strokes and aromatherapy, focusing on neck, shoulders and back to help you unwind and sleep better.',
        highlights: [
          'Our most popular treatment, suitable for most guests',
          'Medium‑light pressure for comfort without soreness',
          'Choose from several essential oil blends',
        ],
        tip: 'Please let your therapist know if you have allergies to any essential oil ingredients.',
      },
    },
    {
      id: 'deep-tissue',
      category: 'therapy',
      name: 'Deep tissue bodywork',
      duration: '75 min',
      price: '¥368',
      shortDesc: 'Focused work for chronic stiffness in neck, shoulders and lower back.',
      tags: ['Therapeutic', 'Neck & back', 'Firm pressure'],
      details: {
        meta: 'Recommended for desk workers or long‑term muscle tightness.',
        desc: 'Uses deeper pressure, trigger points and stretching techniques to release tight muscles and support better posture.',
        highlights: [
          'Can focus on specific areas such as neck, lower back or legs',
          'Pressure is always adjusted based on your feedback',
          'For strong deep work, allow at least one week between sessions',
        ],
        tip: 'If you have heart, bone or serious medical conditions, please consult us in advance to confirm suitability.',
      },
    },
    {
      id: 'foot-spa',
      category: 'foot',
      name: 'Herbal foot bath & reflexology',
      duration: '50 min',
      price: '¥218',
      shortDesc: 'Warm herbal soak followed by foot reflexology to ease heavy, tired legs.',
      tags: ['Foot care', 'Herbal soak', 'Light therapy'],
      details: {
        meta: 'Ideal after long days of walking, standing or wearing heels.',
        desc: 'A relaxing herbal foot bath supports circulation, followed by focused work on reflex zones to relieve leg fatigue.',
        highlights: [
          'Pairs well with a short neck and shoulder add‑on',
          'Herbal blends are adjusted seasonally',
          'We recommend drinking water after your session',
        ],
        tip: 'Guests with diabetes or open wounds on the feet should let us know first so we can assess if foot bathing is suitable.',
      },
    },
    {
      id: 'head-spa',
      category: 'relax',
      name: 'Head & eye de‑stress therapy',
      duration: '40 min',
      price: '¥188',
      shortDesc: 'Designed for heavy screen users to ease eye strain and head tension.',
      tags: ['Head massage', 'Eye care', 'Office workers'],
      details: {
        meta: 'Can be added to full body treatments or enjoyed on its own.',
        desc: 'Focuses on the scalp, temples and forehead muscles with a warm eye mask to relieve digital fatigue.',
        highlights: [
          'Gentle techniques suitable as a mid‑day break',
          'Optional light oil scalp massage',
          'Short yet effective reset for office workers',
        ],
        tip: 'If you have frequent migraines or recent eye surgery, please discuss with your therapist before the session.',
      },
    },
  ],
  ja: [
    {
      id: 'aroma-relax',
      category: 'relax',
      name: 'アロマ全身リラックス',
      duration: '60 分',
      price: '¥298',
      shortDesc: '良質なアロマオイルを使用した、頭からつま先までの全身トリートメント。',
      tags: ['リラックス', '全身', 'アロマ'],
      details: {
        meta: '初めての方や軽いお疲れにおすすめです。',
        desc: '首・肩・背中を中心に、ゆったりとしたストロークで全身の緊張を和らげます。眠りの質を高めたい方にも人気のメニューです。',
        highlights: [
          'お好みに合わせて香りをお選びいただけます',
          'ソフト〜中圧で心地よい圧加減',
          'ペアルームでの施術も可能です（事前予約制）',
        ],
        tip: 'アレルギーがご心配な方は、事前にパッチテストを行うこともできます。',
      },
    },
    {
      id: 'deep-tissue',
      category: 'therapy',
      name: 'ボディケア・深部ほぐし',
      duration: '75 分',
      price: '¥368',
      shortDesc: 'デスクワークによる肩こり・腰の張りが気になる方に。',
      tags: ['ボディケア', '肩こり', 'しっかり圧'],
      details: {
        meta: '強めの圧が好きな方、慢性的なお疲れに最適です。',
        desc: '指圧やストレッチを組み合わせながら、深部のコリをしっかりとらえていきます。施術前に重点的にケアしたい部位をお伺いします。',
        highlights: [
          '肩・腰・脚など気になる部分を優先的にケア',
          '強さはその都度お声がけしながら調整します',
          '強めの施術後は水分補給と十分な休息がおすすめ',
        ],
        tip: '骨や関節に不安がある方は、必ず事前にご相談ください。',
      },
    },
    {
      id: 'foot-spa',
      category: 'foot',
      name: 'ハーブ足浴 & リフレクソロジー',
      duration: '50 分',
      price: '¥218',
      shortDesc: 'ハーブ足浴と足裏リフレで、脚のむくみやだるさをすっきりケア。',
      tags: ['フット', 'ハーブ足浴', 'むくみケア'],
      details: {
        meta: '立ち仕事・歩き疲れ・ヒールでの移動が多い方に。',
        desc: '温かいハーブ足浴で足元から温めたあと、足裏の反射区を心地よい圧で刺激し、全身の巡りを整えます。',
        highlights: [
          '季節に合わせたハーブブレンドをご用意',
          '軽い肩まわりのほぐしを追加することも可能です',
          'お休み前のリラックスタイムにもおすすめ',
        ],
        tip: '糖尿病や足に傷がある場合は、足浴を控えたほうがよいケースもありますので事前にお知らせください。',
      },
    },
    {
      id: 'head-spa',
      category: 'relax',
      name: 'ドライヘッドスパ & 目元ケア',
      duration: '40 分',
      price: '¥188',
      shortDesc: 'PC・スマホ疲れによる目の重さや頭のだるさをケアするショートメニュー。',
      tags: ['ヘッドスパ', 'アイケア', 'オフィスワーカー'],
      details: {
        meta: '全身メニューにプラスするのも人気です。',
        desc: '頭皮全体とこめかみ、額まわりを丁寧にほぐし、温かいアイマスクで目元の緊張をやさしく和らげます。',
        highlights: [
          'お着替えなしでそのまま受けられるコースも選択可能',
          'オイルの有無をお選びいただけます',
          '短時間でスッキリしたいビジネスパーソンに好評',
        ],
        tip: '片頭痛をお持ちの方は、体調により刺激を控えめにすることもございます。',
      },
    },
  ],
};

const faqData = {
  zh: [
    {
      q: '需要提前预约吗？可以当天预约吗？',
      a: '建议提前预约以保证时段，尤其是周末与节假日。当日如有空位也可安排，可直接电话或微信咨询前台。',
    },
    {
      q: '支持哪些支付方式？',
      a: '目前支持现金、主流移动支付（支付宝 / 微信）以及部分银行卡支付，具体请以门店公示为准。',
    },
    {
      q: '如果迟到或临时取消怎么办？',
      a: '如您会迟到，请尽快与我们联系。根据当天预约情况，我们会尽量为您保留时段；如需取消或改期，建议至少提前 2 小时告知。',
    },
    {
      q: '是否提供跨性别服务？是否有任何非正规项目？',
      a: '本店为正规持证按摩会馆，仅提供专业理疗与放松项目，不提供任何带有性暗示或超出法律与行业规范的服务，感谢您的理解与配合。',
    },
  ],
  en: [
    {
      q: 'Do I need to book in advance? Can I walk in?',
      a: 'We recommend booking in advance, especially on weekends and holidays. Same‑day bookings are possible when we have availability – feel free to call or message us on WeChat.',
    },
    {
      q: 'What payment methods do you accept?',
      a: 'We currently accept cash, major mobile payments (Alipay / WeChat Pay) and selected bank cards. Please refer to in‑store information for details.',
    },
    {
      q: 'What if I am late or need to cancel?',
      a: 'If you expect to arrive late, please contact us as soon as possible. We will do our best to keep your slot, but treatment time may be shortened. For cancellations or changes, please inform us at least 2 hours in advance whenever possible.',
    },
    {
      q: 'Do you provide any sexual or inappropriate services?',
      a: 'No. We are a fully licensed, professional massage spa and do not offer any sexual services or treatments that violate local laws or industry standards.',
    },
  ],
  ja: [
    {
      q: '予約は必要ですか？当日予約はできますか？',
      a: 'スムーズなご案内のため、事前予約をおすすめしております。当日の空き状況によっては、直前のご予約も承りますのでお電話または WeChat でお問い合わせください。',
    },
    {
      q: '支払い方法について教えてください。',
      a: '現金のほか、主要なモバイル決済（Alipay / WeChat）や一部のクレジットカードに対応しております。詳しくは店頭表示をご確認ください。',
    },
    {
      q: '遅刻やキャンセルの場合はどうなりますか？',
      a: 'ご予約時間に遅れる場合は、わかり次第ご連絡をお願いいたします。その日の予約状況により、施術時間を短縮させていただく場合がございます。キャンセル・変更は可能な限り 2 時間前までにご連絡ください。',
    },
    {
      q: '風俗的なサービスはありますか？',
      a: '当店は健全なリラクゼーションサロンです。法律および業界ルールに反する行為や、性的サービスは一切行っておりません。ご理解とご協力をお願いいたします。',
    },
  ],
};

let currentLang = 'zh';

function applyStaticTranslations(lang) {
  const dict = translations[lang] || translations.zh;
  document.querySelectorAll('[data-i18n]').forEach((el) => {
    const key = el.getAttribute('data-i18n');
    if (dict[key]) el.textContent = dict[key];
  });
}

function renderServices(lang, filter = 'all') {
  const list = serviceData[lang] || serviceData.zh;
  const grid = document.getElementById('serviceGrid');
  if (!grid) return;

  grid.innerHTML = '';
  list
    .filter((s) => filter === 'all' || s.category === filter)
    .forEach((service) => {
      const card = document.createElement('article');
      card.className = 'service-card fade-in';
      card.dataset.serviceId = service.id;
      card.innerHTML = `
        <div class="service-header">
          <div class="service-name">${service.name}</div>
          <div class="service-price">${service.price}</div>
        </div>
        <div class="service-meta">
          <span>${service.duration}</span>
          <span>${service.tags.join(' · ')}</span>
        </div>
        <p class="service-desc">${service.shortDesc}</p>
        <div class="service-tags">
          ${service.tags
            .map((tag) => `<span class="service-tag">${tag}</span>`)
            .join('')}
        </div>
      `;
      grid.appendChild(card);
    });

  observeFadeIn();
}

function fillServiceSelect(lang) {
  const list = serviceData[lang] || serviceData.zh;
  const select = document.getElementById('preferredService');
  if (!select) return;

  const placeholderKey = 'contact.formServicePlaceholder';
  const dict = translations[lang] || translations.zh;
  select.innerHTML = '';
  const placeholderOption = document.createElement('option');
  placeholderOption.value = '';
  placeholderOption.textContent = dict[placeholderKey] || '请选择服务项目';
  select.appendChild(placeholderOption);

  list.forEach((service) => {
    const opt = document.createElement('option');
    opt.value = service.id;
    opt.textContent = service.name;
    select.appendChild(opt);
  });
}

function renderFaq(lang) {
  const list = faqData[lang] || faqData.zh;
  const container = document.getElementById('faqList');
  if (!container) return;

  container.innerHTML = '';
  list.forEach((item, index) => {
    const wrapper = document.createElement('article');
    wrapper.className = `faq-item fade-in${index === 0 ? ' open' : ''}`;
    wrapper.innerHTML = `
      <div class="faq-header">
        <div class="faq-question">${item.q}</div>
        <div class="faq-toggle">${index === 0 ? '−' : '+'}</div>
      </div>
      <div class="faq-body">${item.a}</div>
    `;
    container.appendChild(wrapper);
  });

  observeFadeIn();
}

function showServiceModal(service) {
  const modal = document.getElementById('serviceModal');
  if (!modal || !service) return;

  const titleEl = document.getElementById('serviceModalTitle');
  const metaEl = document.getElementById('serviceModalMeta');
  const descEl = document.getElementById('serviceModalDesc');
  const highlightsEl = document.getElementById('serviceModalHighlights');
  const tipEl = document.getElementById('serviceModalTip');

  titleEl.textContent = service.name;
  metaEl.textContent = `${service.duration} · ${service.price}`;
  descEl.textContent = service.details.desc;
  highlightsEl.innerHTML = '';
  service.details.highlights.forEach((h) => {
    const li = document.createElement('li');
    li.textContent = `• ${h}`;
    highlightsEl.appendChild(li);
  });
  tipEl.textContent = service.details.tip;

  modal.classList.add('open');
  modal.setAttribute('aria-hidden', 'false');
}

function hideServiceModal() {
  const modal = document.getElementById('serviceModal');
  if (!modal) return;
  modal.classList.remove('open');
  modal.setAttribute('aria-hidden', 'true');
}

function initServiceModal() {
  const modal = document.getElementById('serviceModal');
  const closeBtn = document.getElementById('modalCloseBtn');
  const grid = document.getElementById('serviceGrid');

  if (closeBtn) closeBtn.addEventListener('click', hideServiceModal);
  if (modal) {
    modal.addEventListener('click', (e) => {
      if (e.target === modal) hideServiceModal();
    });
  }
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') hideServiceModal();
  });

  if (grid) {
    grid.addEventListener('click', (e) => {
      const card = e.target.closest('.service-card');
      if (!card) return;
      const id = card.dataset.serviceId;
      const list = serviceData[currentLang] || serviceData.zh;
      const service = list.find((s) => s.id === id);
      showServiceModal(service);
    });
  }
}

function initFaqToggle() {
  const container = document.getElementById('faqList');
  if (!container) return;

  container.addEventListener('click', (e) => {
    const header = e.target.closest('.faq-header');
    if (!header) return;
    const item = header.parentElement;
    const isOpen = item.classList.contains('open');
    container.querySelectorAll('.faq-item').forEach((el) => {
      el.classList.remove('open');
      const toggle = el.querySelector('.faq-toggle');
      if (toggle) toggle.textContent = '+';
    });
    if (!isOpen) {
      item.classList.add('open');
      const toggle = item.querySelector('.faq-toggle');
      if (toggle) toggle.textContent = '−';
    }
  });
}

function initLanguageSwitcher() {
  const buttons = document.querySelectorAll('.lang-btn');
  buttons.forEach((btn) => {
    btn.addEventListener('click', () => {
      const lang = btn.dataset.lang;
      if (!lang || lang === currentLang) return;
      currentLang = lang;
      localStorage.setItem('zenSpaLang', lang);

      buttons.forEach((b) => b.classList.remove('active'));
      btn.classList.add('active');

      applyStaticTranslations(lang);
      renderServices(lang, getCurrentFilter());
      fillServiceSelect(lang);
      renderFaq(lang);
    });
  });
}

function getCurrentFilter() {
  const active = document.querySelector('.service-filters .chip.active');
  return active ? active.dataset.serviceFilter || 'all' : 'all';
}

function initServiceFilter() {
  const wrapper = document.querySelector('.service-filters');
  if (!wrapper) return;

  wrapper.addEventListener('click', (e) => {
    const chip = e.target.closest('.chip');
    if (!chip) return;
    wrapper.querySelectorAll('.chip').forEach((c) => c.classList.remove('active'));
    chip.classList.add('active');
    const filter = chip.dataset.serviceFilter || 'all';
    renderServices(currentLang, filter);
  });
}

function initSmoothScroll() {
  document.querySelectorAll('.main-nav a, .footer-col a, .hero-actions a, .logo-text').forEach((link) => {
    const href = link.getAttribute('href');
    if (!href || !href.startsWith('#')) return;
    link.addEventListener('click', (e) => {
      e.preventDefault();
      const target = document.querySelector(href);
      if (!target) return;
      target.scrollIntoView({ behavior: 'smooth', block: 'start' });
    });
  });
}

function initHeaderNavToggle() {
  const toggle = document.querySelector('.nav-toggle');
  const nav = document.querySelector('.main-nav');
  if (!toggle || !nav) return;

  toggle.addEventListener('click', () => {
    nav.classList.toggle('open');
  });

  nav.addEventListener('click', (e) => {
    if (e.target.tagName.toLowerCase() === 'a') {
      nav.classList.remove('open');
    }
  });
}

let fadeObserver;

function observeFadeIn() {
  if (!('IntersectionObserver' in window)) {
    document.querySelectorAll('.fade-in').forEach((el) => el.classList.add('in-view'));
    return;
  }

  if (!fadeObserver) {
    fadeObserver = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add('in-view');
            fadeObserver.unobserve(entry.target);
          }
        });
      },
      { threshold: 0.15 }
    );
  }

  document.querySelectorAll('.fade-in:not(.in-view)').forEach((el) => fadeObserver.observe(el));
}

function initForm() {
  const form = document.getElementById('bookingForm');
  if (!form) return;

  form.addEventListener('submit', (e) => {
    e.preventDefault();
    alert(
      currentLang === 'ja'
        ? 'デモフォームのため、送信内容は保存されません。実際のご予約はお電話または公式チャネルよりお願いいたします。'
        : currentLang === 'en'
        ? 'This is a demo form only. For real bookings, please integrate with your preferred system.'
        : '当前为演示表单，信息不会真实提交。正式上线时可接入短信、公众号或第三方预约系统。'
    );
    form.reset();
    fillServiceSelect(currentLang);
  });
}

function initYear() {
  const yearSpan = document.getElementById('year');
  if (yearSpan) {
    yearSpan.textContent = new Date().getFullYear();
  }
}

document.addEventListener('DOMContentLoaded', () => {
  const saved = localStorage.getItem('zenSpaLang');
  if (saved && translations[saved]) {
    currentLang = saved;
    document.documentElement.lang = saved === 'zh' ? 'zh' : saved;
    document.querySelectorAll('.lang-btn').forEach((btn) => {
      if (btn.dataset.lang === saved) btn.classList.add('active');
      else btn.classList.remove('active');
    });
  } else {
    document.documentElement.lang = 'zh';
  }

  applyStaticTranslations(currentLang);
  renderServices(currentLang, 'all');
  fillServiceSelect(currentLang);
  renderFaq(currentLang);

  initLanguageSwitcher();
  initServiceFilter();
  initServiceModal();
  initFaqToggle();
  initSmoothScroll();
  initHeaderNavToggle();
  initForm();
  initYear();
  observeFadeIn();
});

